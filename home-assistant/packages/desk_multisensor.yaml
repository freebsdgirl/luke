# package files make multisensors easier to manage.

# sometimes this sensor returns in C, other times it returns in F.
# use a template to do basic sanity checking on the reported temp/convert to F.
sensor:
  - platform: template
    sensors:
      desk_temperature:
        value_template: >-
          {% if states('sensor.desk_multisensor_temperature') | int < 45 %}
            {{ states('sensor.desk_multisensor_temperature') | float * 9 / 5 + 32  }}
          {% else %}
            {{ states('sensor.desk_multisensor_temperature') }}
          {% endif %}

homeassistant:
  customize:
    # hidden devices
    sensor.desk_multisensor_temperature:
      friendly_name: Desk Multisensor Temperature
      device_class: temperature
      hidden: true

    # motion
    binary_sensor.desk_motion:
      friendly_name: Desk Motion
      device_class: motion

    # tamper
    binary_sensor.desk_multisensor_tamper:
      friendly_name: Desk Multisensor Tamper
      device_class: safety

    # Battery
    sensor.desk_multisensor_battery:
      friendly_name: Desk Multisensor Battery
      device_class: battery
      unit_of_measurement: '%'

    # luminance
    sensor.desk_luminance:
      friendly_name: Desk Luminance 
      device_class: illuminance 
      icon: mdi:brightness-5
      unit_of_measurement: "LUX"

    # temperature
    sensor.desk_temperature:
      friendly_name: Desk Temperature
      device_class: temperature
      unit_of_measurement: 'Â°F'
